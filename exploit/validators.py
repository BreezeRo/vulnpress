from bs4 import BeautifulSoup


class EmtpyValidator:
    __validator_id__ = 1

    @staticmethod
    def validate(response):
        validated = True
        if response is None:
            validated = False
        elif 'error' in response or response == '0' or response == '':
            validated = False

        return validated


class HTMLLinkHrefValidator:
    __validator_id__ = 2

    @staticmethod
    def validate(response):
        validated = False
        if response is not None:
            soup = BeautifulSoup(response)
            links = soup.findAll('link')
            if links:
                for link in links:
                    result = link.get('href')
                    if len(result) == 34 and '$' in result:
                        validated = True

        return validated


class HTMLDivIdValidator:
    __validator_id__ = 3

    # Temporary constants for div ID validators
    validators = [
        'match-qxqvqIEIozpbgQXqzpzq',
    ]

    def validate(self, response):
        validated = False
        if response is not None:
            soup = BeautifulSoup(response)
            links = soup.findAll('div')
            if links:
                for link in links:
                    if link.get('id') in self.validators:
                        validated = True

        return validated


class WordpressDatabaseErrorValidator:
    __validator_id__ = 4

    # Temporary constants for wordpress DB validators
    validators = [
        "WordPress database error:"
    ]

    def validate(self, response):
        validated = False
        if response is not None:
            soup = BeautifulSoup(response)
            links = soup.findAll('p')
            if links:
                for link in links:
                    if link.findAll(text=True) in self.validators:
                        validated = True

        return validated


class FileNotFoundValidator:
    __validator_id__ = 5

    @staticmethod
    def validate(response):
        validated = True
        if response is None:
            validated = False
        elif 'File not found' in response:
            validated = False

        return validated
